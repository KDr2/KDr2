# -*- mode: org; mode: auto-fill -*-
#+TITLE: Code: output/static/script/site.js
#+AUTHOR: KDr2

#+BEGIN_SRC javascript :tangle ../output/static/scripts/site.js
/*
 * Tangled from tangle/site-js.org, do NOT edit this file.
 */
#+END_SRC

Init site domain and search box
#+BEGIN_SRC javascript :tangle ../output/static/scripts/site.js
  function init_site() {
      var url = window.location.href;
      var domain = url.replace(/^\w+:\/\//, "").replace(/\/.*$/gi,"").toLowerCase();
      var page = url.replace(/^\w+:\/\/.*?\//i,"").replace(/#.*$/gi,"");
      var site_name = "KDr2.com";
      document.getElementById("site-name").innerHTML = site_name;
      document.getElementById("sitesearch").value = domain;
  }
#+END_SRC

Init google analytics code
#+BEGIN_SRC javascript :tangle ../output/static/scripts/site.js
#+END_SRC

Register document ready callback:
#+BEGIN_SRC javascript :tangle ../output/static/scripts/site.js
  document.addEventListener('DOMContentLoaded', function() {
      init_site();
  }, false);
#+END_SRC
